var Y=Object.create;var T=Object.defineProperty,D=Object.defineProperties,K=Object.getOwnPropertyDescriptor,q=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,G=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var k=(e,r,o)=>r in e?T(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,d=(e,r)=>{for(var o in r||(r={}))S.call(r,o)&&k(e,o,r[o]);if(v)for(var o of v(r))b.call(r,o)&&k(e,o,r[o]);return e},L=(e,r)=>D(e,q(r)),O=e=>T(e,"__esModule",{value:!0});var x=(e,r)=>{var o={};for(var t in e)S.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&v)for(var t of v(e))r.indexOf(t)<0&&b.call(e,t)&&(o[t]=e[t]);return o};var J=(e,r)=>{for(var o in r)T(e,o,{get:r[o],enumerable:!0})},R=(e,r,o,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of z(r))!S.call(e,a)&&(o||a!=="default")&&T(e,a,{get:()=>r[a],enumerable:!(t=K(r,a))||t.enumerable});return e},Q=(e,r)=>R(O(T(e!=null?Y(G(e)):{},"default",!r&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),U=(e=>(r,o)=>e&&e.get(r)||(o=R(O({}),r,1),e&&e.set(r,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var m=(e,r,o)=>new Promise((t,a)=>{var n=l=>{try{i(o.next(l))}catch(f){a(f)}},s=l=>{try{i(o.throw(l))}catch(f){a(f)}},i=l=>l.done?t(l.value):Promise.resolve(l.value).then(n,s);i((o=o.apply(e,r)).next())});var ne={};J(ne,{ErrorMessage:()=>X,Field:()=>Z,FieldHOC:()=>_,LessForm:()=>ee,useField:()=>y,useFieldByContext:()=>V,useFields:()=>oe,useFieldsByContext:()=>I,useForm:()=>te,validateYupSchema:()=>P});var u=Q(require("react"));var F=require("react"),M=require("react-ob");var A=require("react"),g=(0,A.createContext)(void 0);var w={abortEarly:!1};function P(e,r,o){return m(this,null,function*(){let t={};if(o)try{yield e.validateAt(o,r,w)}catch(a){a&&a.errors&&a.errors[0]&&(t[o]=a.errors[0])}else{let a=Object.keys(r);for(let n of a)try{yield e.validateAt(n,r,w)}catch(s){s&&s.errors&&s.errors[0]&&(t[n]=s.errors[0])}}return t})}function B(e,r){if(e.entryValidateAll)return r;let o={};return Object.keys(e.touched).forEach(t=>{e.touched[t]&&(o[t]=r[t])}),o}function h(e,r){return m(this,null,function*(){if(e.validate){let o=yield Promise.resolve(e.validate(e.val,r));e.errors=B(e,o)}else if(e.validateSchema){let o=yield P(e.validateSchema,e.val,r);e.errors=B(e,o)}e.validateFirst=!0,e.next()})}var W={name:"",value:"",error:"",onChange:e=>{},onBlur:e=>{}};function V(e,r,o){if(!e)return W;let t=(0,M.useObserver)(e,n=>o?o=="error"?[e.errors[r]]:[n[r]]:[n[r],e.errors[r]]);(0,F.useEffect)(()=>{e.val[r]&&a.onChange(e.val[r])},[]);let a={name:r,value:t[r]==null?"":t[r],error:typeof e.errors[r]=="undefined"?"":e.errors[r],onBlur:n=>{n.persist&&n.persist(),e.touched[r]||(e.touched[r]=!0,a.onChange(t[r]))},onChange:n=>{e.touched[r]||(e.touched[r]=!0);let s=typeof n,i;if(s==="undefined")i="";else if(s==="object"&&n.currentTarget){let p=n.currentTarget.type;if(p==="checkbox"||p==="radio")i=!!n.currentTarget.checked;else if(n.currentTarget.multiple){let c=n.currentTarget.options,E=[];for(var l=0,f=c.length;l<f;l++)c[l].selected&&E.push(c[l].value);i=E}else i=n.currentTarget.value}else i=n;e.val[r]=i,e.handleChange&&(e.val=e.handleChange(e.val,r)),h(e,r)}};return a}function y(e,r){let o=(0,F.useContext)(g);return V(o,e,r)}function X({name:e}){let r=y(e,"error");return u.createElement(u.Fragment,null,r.error)}function Z(t){var a=t,{name:e,children:r}=a,o=x(a,["name","children"]);let n=y(e);return u.createElement("input",d({name:e,value:n.value,onChange:n.onChange,onBlur:n.onBlur},o))}function _(e,r){return function(n){var s=n,{name:t}=s,a=x(s,["name"]);if(t){let i=y(t,r);return u.createElement(e,d(d({},i),a))}return u.createElement(e,d({},a))}}var $=g.Provider;function ee(e){return u.createElement($,d({},e))}var H=require("react"),j=require("react-ob");var re={names:[],values:{},errors:{},onChange:(e,r)=>{},contentValues:()=>{}};function I(e,r,o){if(!e)return re;(0,j.useObserver)(e,n=>{let s=[];return o?o=="error"?(r.forEach(i=>{s.push(e.errors[i])}),s):(r.forEach(i=>{s.push(n[i])}),s):(r.forEach(i=>{s.push(n[i]),s.push(e.errors[i])}),s)});let t={},a={};return r.forEach(n=>{t[n]=e.val[n],a[n]=e.errors[n]||""}),{names:r,values:t,errors:a,onChange:(n,s)=>{e.val[n]=s,e.next()},contentValues:e.contentValues}}function oe(e,r){let o=(0,H.useContext)(g);return I(o,e,r)}var C=require("react"),N=require("react-ob");function te({initialValues:e,initErrors:r,validate:o,entryValidateAll:t,validateSchema:a,handleChange:n}){let s=(0,C.useRef)((0,N.CreateObserver)(e));return(0,C.useEffect)(()=>{t&&h(s.current)},[]),(0,C.useMemo)(()=>{let i=new Set(Object.keys(e)),l={};return i.forEach(f=>{l[f]=!1}),s.current=L(d({},s.current),{validate:o,errors:r||{},fields:i,touched:l,entryCheckAll:!!t,validateSchema:a,validateFirst:!1,validateAll:()=>m(this,null,function*(){let f=s.current.fields;f.forEach(c=>{s.current.touched[c]=!0}),yield h(s.current);let p="";return f.forEach(c=>{!p&&s.current.errors[c]&&(p=s.current.errors[c])}),p}),contentValues:()=>{let f=s.current.fields,p={};return f.forEach(c=>{p[c]=s.current.val[c]}),p},handleChange:n}),s.current},[])}module.exports=U(ne);
