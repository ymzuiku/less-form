var H=Object.create;var l=Object.defineProperty,I=Object.defineProperties,Y=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,q=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var k=(e,r,o)=>r in e?l(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,u=(e,r)=>{for(var o in r||(r={}))T.call(r,o)&&k(e,o,r[o]);if(y)for(var o of y(r))S.call(r,o)&&k(e,o,r[o]);return e},P=(e,r)=>I(e,D(r)),b=e=>l(e,"__esModule",{value:!0});var E=(e,r)=>{var o={};for(var t in e)T.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&y)for(var t of y(e))r.indexOf(t)<0&&S.call(e,t)&&(o[t]=e[t]);return o};var w=(e,r)=>{for(var o in r)l(e,o,{get:r[o],enumerable:!0})},R=(e,r,o,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of N(r))!T.call(e,i)&&(o||i!=="default")&&l(e,i,{get:()=>r[i],enumerable:!(t=Y(r,i))||t.enumerable});return e},z=(e,r)=>R(b(l(e!=null?H(q(e)):{},"default",!r&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),G=(e=>(r,o)=>e&&e.get(r)||(o=R(b({}),r,1),e&&e.set(r,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var X={};w(X,{ErrorMessage:()=>K,Field:()=>Q,FormProvider:()=>V,useField:()=>c,useFieldByContext:()=>A,useForm:()=>W,validateYupSchema:()=>v});var s=z(require("react"));var h=require("react"),O=require("react-ob");var L=require("react"),g=(0,L.createContext)(void 0);function v(e,r){let o={},t={abortEarly:!1};return Object.keys(r).forEach(i=>{try{e.validateSyncAt(i,r,t)}catch(n){n&&n.errors&&n.errors[0]&&(o[i]=n.errors[0])}}),o}function M(e,r){if(e.entryCheckAll)return r;let o={};return Object.keys(e.touched).forEach(t=>{e.touched[t]&&(o[t]=r[t])}),o}function p(e){e.validate?Promise.resolve(e.validate(e.val)).then(r=>{e.errors=M(e,r),e.next()}):(e.validateSchema&&(e.errors=M(e,v(e.validateSchema,e.val))),e.next())}var J={name:"",value:"",error:"",onChange:e=>{},onBlur:e=>{}};function A(e,r,o){if(!e)return J;let t=(0,O.useObserver)(e,n=>o?o=="value"?[n[r]]:[e.errors[r]]:[n[r],e.errors[r]]);(0,h.useEffect)(()=>{e.val[r]&&i.onChange(e.val[r])},[]);let i={name:r,value:t[r],error:typeof e.errors[r]=="undefined"?"":e.errors[r],onBlur:n=>{n.persist&&n.persist(),e.touched[r]||(e.touched[r]=!0,i.onChange(t[r]))},onChange:n=>{let d=typeof n,a;if(d==="object"&&n.currentTarget){let x=n.currentTarget.type;if(x==="checkbox"||x==="checkbox")a=!!n.currentTarget.checked;else if(n.currentTarget.multiple){let C=n.currentTarget.options,F=[];for(var m=0,j=C.length;m<j;m++)C[m].selected&&F.push(C[m].value);a=F}else a=n.currentTarget.value;e.val[r]=a,p(e)}else e.val[r]=n,p(e)}};return i}function c(e,r){let o=(0,h.useContext)(g);return A(o,e,r)}function K({name:e}){let r=c(e,"error");return s.createElement(s.Fragment,null,r.error)}function Q(o){var t=o,{name:e}=t,r=E(t,["name"]);let i=c(e);return s.createElement("input",u({name:e,value:i.value||"",onChange:i.onChange,onBlur:i.onBlur},r))}var U=g.Provider;function V(e){return s.createElement(U,u({},e))}var f=require("react"),B=require("react-ob");function W({initialValues:e,initErrors:r,validate:o,entryCheckAll:t,validateSchema:i}){let n=(0,f.useRef)((0,B.CreateObserver)(e));return(0,f.useEffect)(()=>{t&&p(n.current)},[]),(0,f.useMemo)(()=>{let d={};return Object.keys(e).forEach(a=>{d[a]=!1}),n.current=P(u({},n.current),{validate:o,errors:r||{},touched:d,entryCheckAll:!!t,validateSchema:i}),n.current},[])}module.exports=G(X);
