var R=Object.defineProperty,L=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var F=(e,r,o)=>r in e?R(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,l=(e,r)=>{for(var o in r||(r={}))x.call(r,o)&&F(e,o,r[o]);if(c)for(var o of c(r))v.call(r,o)&&F(e,o,r[o]);return e},P=(e,r)=>L(e,M(r));var S=(e,r)=>{var o={};for(var t in e)x.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&c)for(var t of c(e))r.indexOf(t)<0&&v.call(e,t)&&(o[t]=e[t]);return o};var d=(e,r,o)=>new Promise((t,i)=>{var n=f=>{try{a(o.next(f))}catch(p){i(p)}},s=f=>{try{a(o.throw(f))}catch(p){i(p)}},a=f=>f.done?t(f.value):Promise.resolve(f.value).then(n,s);a((o=o.apply(e,r)).next())});import*as u from"react";import{useContext as A,useEffect as B}from"react";import{useObserver as j}from"react-ob";import{createContext as O}from"react";var y=O(void 0);var b={abortEarly:!1};function k(e,r,o){return d(this,null,function*(){console.time("yup");let t={};if(o)try{yield e.validateAt(o,r,b)}catch(i){i&&i.errors&&i.errors[0]&&(t[o]=i.errors[0])}else{let i=Object.keys(r);for(let n of i)try{yield e.validateAt(n,r,b)}catch(s){s&&s.errors&&s.errors[0]&&(t[n]=s.errors[0])}}return console.timeEnd("yup"),t})}function E(e,r){if(e.entryCheckAll)return r;let o={};return Object.keys(e.touched).forEach(t=>{e.touched[t]&&(o[t]=r[t])}),o}function m(e,r){return d(this,null,function*(){if(e.validate){let o=yield Promise.resolve(e.validate(e.val,r));e.errors=E(e,o),e.next()}else if(e.validateSchema){let o=yield k(e.validateSchema,e.val,r);e.errors=E(e,o),e.next()}else e.next()})}var w={name:"",value:"",error:"",onChange:e=>{},onBlur:e=>{}};function H(e,r,o){if(!e)return w;let t=j(e,n=>o?o=="error"?[e.errors[r]]:[n[r]]:[n[r],e.errors[r]]);B(()=>{e.val[r]&&i.onChange(e.val[r])},[]);let i={name:r,value:t[r]==null?"":t[r],error:typeof e.errors[r]=="undefined"?"":e.errors[r],onBlur:n=>{n.persist&&n.persist(),e.touched[r]||(e.touched[r]=!0,i.onChange(t[r]))},onChange:n=>{e.touched[r]||(e.touched[r]=!0);let s=typeof n,a;if(s==="undefined")a="";else if(s==="object"&&n.currentTarget){let T=n.currentTarget.type;if(T==="checkbox"||T==="checkbox")a=!!n.currentTarget.checked;else if(n.currentTarget.multiple){let C=n.currentTarget.options,h=[];for(var f=0,p=C.length;f<p;f++)C[f].selected&&h.push(C[f].value);a=h}else a=n.currentTarget.value}else a=n;e.handleChange&&(a=e.handleChange(r,a)),e.val[r]=a,m(e,r)}};return i}function g(e,r){let o=A(y);return H(o,e,r)}function re({name:e}){let r=g(e,"error");return u.createElement(u.Fragment,null,r.error)}function ne(o){var t=o,{name:e}=t,r=S(t,["name"]);let i=g(e);return u.createElement("input",l({name:e,value:i.value,onChange:i.onChange,onBlur:i.onBlur},r))}var I=y.Provider;function se(e){return u.createElement(I,l({},e))}import{useEffect as N,useMemo as Y,useRef as D}from"react";import{CreateObserver as q}from"react-ob";function de({initialValues:e,initErrors:r,validate:o,entryCheckAll:t,validateSchema:i,handleChange:n}){let s=D(q(e));return N(()=>{t&&m(s.current)},[]),Y(()=>{let a={};return Object.keys(e).forEach(f=>{a[f]=!1}),s.current=P(l({},s.current),{validate:o,errors:r||{},touched:a,entryCheckAll:!!t,validateSchema:i,handleChange:n}),s.current},[])}export{re as ErrorMessage,ne as Field,se as FormProvider,g as useField,H as useFieldByContext,de as useForm,k as validateYupSchema};
