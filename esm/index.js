var R=Object.defineProperty,B=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var O=(r,e,t)=>e in r?R(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p=(r,e)=>{for(var t in e||(e={}))F.call(e,t)&&O(r,t,e[t]);if(v)for(var t of v(e))S.call(e,t)&&O(r,t,e[t]);return r},E=(r,e)=>B(r,M(e));var C=(r,e)=>{var t={};for(var o in r)F.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&v)for(var o of v(r))e.indexOf(o)<0&&S.call(r,o)&&(t[o]=r[o]);return t};var y=(r,e,t)=>new Promise((o,a)=>{var n=f=>{try{i(t.next(f))}catch(l){a(l)}},s=f=>{try{i(t.throw(f))}catch(l){a(l)}},i=f=>f.done?o(f.value):Promise.resolve(f.value).then(n,s);i((t=t.apply(r,e)).next())});import*as u from"react";import{useContext as Q,useEffect as U}from"react";import"react";import{useEffect as I,useMemo as lr,useRef as N,useState as Y}from"react";var V=Object.defineProperty,P=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,k=(r,e,t)=>e in r?V(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_=(r,e)=>{for(var t in e||(e={}))H.call(e,t)&&k(r,t,e[t]);if(P)for(var t of P(e))z.call(e,t)&&k(r,t,e[t]);return r},$=typeof Element!="undefined",q=typeof Map=="function",D=typeof Set=="function",K=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function T(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){if(r.constructor!==e.constructor)return!1;let t,o,a;if(Array.isArray(r)){if(t=r.length,t!=e.length)return!1;for(o=t;o--!==0;)if(!T(r[o],e[o]))return!1;return!0}let n;if(q&&r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(n=r.entries();!(o=n.next()).done;)if(!e.has(o.value[0]))return!1;for(n=r.entries();!(o=n.next()).done;)if(!T(o.value[1],e.get(o.value[0])))return!1;return!0}if(D&&r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(n=r.entries();!(o=n.next()).done;)if(!e.has(o.value[0]))return!1;return!0}if(K&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(e)){if(t=r.length,t!=e.length)return!1;for(o=t;o--!==0;)if(r[o]!==e[o])return!1;return!0}if(r.constructor===RegExp)return r.source===e.source&&r.flags===e.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===e.toString();if(a=Object.keys(r),t=a.length,t!==Object.keys(e).length)return!1;for(o=t;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[o]))return!1;if($&&r instanceof Element)return!1;for(o=t;o--!==0;)if(!((a[o]==="_owner"||a[o]==="__v"||a[o]==="__o")&&r.$$typeof)&&!T(r[a[o]],e[a[o]]))return!1;return!0}return r!==r&&e!==e}function G(r,e){try{return T(r,e)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}}function x(r,e){let[t,o]=Y(r.val),a=N(e(r.val));return I(()=>{let n=()=>{let s=e(r.val),i=!G(s,a.current);a.current=s,i&&o(_({},r.val))};return r.subscribs.add(n),()=>{r.subscribs.delete(n)}},[]),t}function w(r){let e=new Set,t={subscribs:e,next:o=>{o?Promise.resolve(o(t.val)).then(()=>{e.forEach(a=>a())}):e.forEach(a=>a())},val:r};return t}import{createContext as J}from"react";var m=J(void 0);var j={abortEarly:!1};function A(r,e,t){return y(this,null,function*(){let o={};if(t)try{yield r.validateAt(t,e,j)}catch(a){a&&a.errors&&a.errors[0]&&(o[t]=a.errors[0])}else{let a=Object.keys(e);for(let n of a)try{yield r.validateAt(n,e,j)}catch(s){s&&s.errors&&s.errors[0]&&(o[n]=s.errors[0])}}return o})}function L(r,e){if(r.entryValidateAll)return e;let t={};return Object.keys(r.touched).forEach(o=>{r.touched[o]&&(t[o]=e[o])}),t}function h(r,e){return y(this,null,function*(){if(r.validate){let t=yield Promise.resolve(r.validate(r.val,e));r.errors=L(r,t)}else if(r.validateSchema){let t=yield A(r.validateSchema,r.val,e);r.errors=L(r,t)}r.validateFirst=!0,r.next()})}var W={name:"",value:"",error:"",onChange:r=>{},onBlur:r=>{}};function X(r,e,t){if(!r)return W;let o=x(r,n=>t?t=="error"?[r.errors[e]]:[n[e]]:[n[e],r.errors[e]]);U(()=>{r.val[e]&&a.onChange(r.val[e])},[]);let a={name:e,value:o[e]==null?"":o[e],error:typeof r.errors[e]=="undefined"?"":r.errors[e],onBlur:n=>{n.persist&&n.persist(),r.touched[e]||(r.touched[e]=!0,a.onChange(o[e]))},onChange:n=>{r.touched[e]||(r.touched[e]=!0);let s=typeof n,i;if(s==="undefined")i="";else if(s==="object"&&n.currentTarget){let d=n.currentTarget.type;if(d==="checkbox"||d==="radio")i=!!n.currentTarget.checked;else if(n.currentTarget.multiple){let c=n.currentTarget.options,b=[];for(var f=0,l=c.length;f<l;f++)c[f].selected&&b.push(c[f].value);i=b}else i=n.currentTarget.value}else i=n;r.val[e]=i,r.handleChange&&(r.val=r.handleChange(r.val,e)),h(r,e)}};return a}function g(r,e){let t=Q(m);return X(t,r,e)}function Fr({name:r}){let e=g(r,"error");return u.createElement(u.Fragment,null,e.error)}function Er(o){var a=o,{name:r,children:e}=a,t=C(a,["name","children"]);let n=g(r);return u.createElement("input",p({name:r,value:n.value,onChange:n.onChange,onBlur:n.onBlur},t))}function jr(r,e){return function(n){var s=n,{name:o}=s,a=C(s,["name"]);if(o){let i=g(o,e);return u.createElement(r,p(p({},i),a))}return u.createElement(r,p({},a))}}var Z=m.Provider;function Rr(r){return u.createElement(Z,p({},r))}import{useContext as rr}from"react";var er={names:[],values:{},errors:{},onChange:(r,e)=>{},contentValues:()=>{}};function tr(r,e,t){if(!r)return er;x(r,n=>{let s=[];return t?t=="error"?(e.forEach(i=>{s.push(r.errors[i])}),s):(e.forEach(i=>{s.push(n[i])}),s):(e.forEach(i=>{s.push(n[i]),s.push(r.errors[i])}),s)});let o={},a={};return e.forEach(n=>{o[n]=r.val[n],a[n]=r.errors[n]||""}),{names:e,values:o,errors:a,onChange:(n,s)=>{r.val[n]=s,r.next()},contentValues:r.contentValues}}function zr(r,e){let t=rr(m);return tr(t,r,e)}import{useEffect as or,useMemo as nr,useRef as ar}from"react";function qr({initialValues:r,initErrors:e,validate:t,entryValidateAll:o,validateSchema:a,handleChange:n}){let s=ar(w(r));return or(()=>{o&&h(s.current)},[]),nr(()=>{let i=new Set(Object.keys(r)),f={};return i.forEach(l=>{f[l]=!1}),s.current=E(p({},s.current),{validate:t,errors:e||{},fields:i,touched:f,entryCheckAll:!!o,validateSchema:a,validateFirst:!1,validateAll:()=>y(this,null,function*(){let l=s.current.fields;l.forEach(c=>{s.current.touched[c]=!0}),yield h(s.current);let d="";return l.forEach(c=>{!d&&s.current.errors[c]&&(d=s.current.errors[c])}),d}),contentValues:()=>{let l=s.current.fields,d={};return l.forEach(c=>{d[c]=s.current.val[c]}),d},handleChange:n}),s.current},[])}export{Fr as ErrorMessage,Er as Field,jr as FieldHOC,Rr as LessForm,g as useField,X as useFieldByContext,zr as useFields,tr as useFieldsByContext,qr as useForm,A as validateYupSchema};
